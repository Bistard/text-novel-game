<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Equilibrium</title>
  <link rel="stylesheet" href="css/styles.css">
</head>

<body>
  <section id="home-screen" class="home-screen" aria-labelledby="home-title">
    <div class="home-card">
      <div class="language-switcher home-language">
        <label for="language-select-home" class="visually-hidden">Language</label>
        <select id="language-select-home" class="language-select"></select>
      </div>
      <h1 id="home-title" class="home-title">Equilibrium</h1>
      <p class="home-tagline">An Interactive Narrative Game</p>
      <p id="home-language-info" class="home-language-info"></p>
      <p id="home-note" class="home-note" aria-live="polite"></p>
      <div class="home-actions">
        <button id="home-start" class="button button-secondary" type="button">New Game</button>
        <button id="home-load" class="button button-secondary" type="button">Load Game</button>
      </div>
      <section class="home-team" aria-labelledby="team-title">
        <h2 id="team-title" class="home-team-title">Team</h2>
        <ul class="home-team-list">
          <li class="home-team-member">
            <span class="home-team-name">Sihan Li</span>
            <a class="home-team-email" href="mailto:s795li@uwaterloo.ca">s795li@uwaterloo.ca</a>
          </li>
          <li class="home-team-member">
            <span class="home-team-name">Doojean Park</span>
            <a class="home-team-email" href="mailto:d43park@uwaterloo.ca">d43park@uwaterloo.ca</a>
          </li>
          <li class="home-team-member">
            <span class="home-team-name">Davion Birbal</span>
            <a class="home-team-email" href="mailto:dbirbal@uwaterloo.ca">dbirbal@uwaterloo.ca</a>
          </li>
          <li class="home-team-member">
            <span class="home-team-name">Klaver Curtis</span>
            <a class="home-team-email" href="mailto:ckjklave@uwaterloo.ca">ckjklave@uwaterloo.ca</a>
          </li>
          <li class="home-team-member">
            <span class="home-team-name">Angusamoorthy Janane</span>
            <a class="home-team-email" href="mailto:jangusam@uwaterloo.ca">jangusam@uwaterloo.ca</a>
          </li>
        </ul>
      </section>
    </div>
  </section>

  <div id="app" hidden>
    <header class="app-header">
      <div class="app-header-top">
        <h1 id="game-title">Equilibrium</h1>
        <div class="language-switcher app-language">
          <label for="language-select-app" class="visually-hidden">Language</label>
          <select id="language-select-app" class="language-select"></select>
        </div>
      </div>
      <div class="header-actions" role="group" aria-label="Game actions">
        <button id="graph-open" class="button button-secondary" type="button" aria-haspopup="dialog"
          aria-expanded="false">Story Map</button>
        <button id="save-button" class="button button-secondary" type="button">Save Game</button>
        <button id="load-button" class="button button-secondary" type="button">Load Game</button>
        <button id="home-button" class="button button-secondary" type="button">Return Title</button>
        <button id="restart-button" class="button button-danger" type="button" aria-label="Restart story">Restart</button>
        <button id="undo-button" class="button button-danger" type="button" disabled>Undo Last Choice</button>
      </div>
      <p id="language-banner" class="language-banner" hidden></p>
    </header>

    <main class="app-main">
      <aside class="sidebar" aria-label="Character status">
        <section class="panel">
          <h2 id="journal-title" class="panel-title">Journal</h2>
          <ul id="journal" class="journal"></ul>
        </section>
        <section class="panel">
          <h2 id="stats-title" class="panel-title">Stats</h2>
          <dl id="stats" class="stats"></dl>
        </section>
        <section class="panel">
          <h2 id="inventory-title" class="panel-title">Inventory</h2>
          <ul id="inventory" class="inventory"></ul>
        </section>
      </aside>

      <section class="story-area" aria-live="polite">
        <div id="story-container" class="story-container">
          <div class="story-controls" role="group" aria-label="Text playback options">
            <button id="skip-button" class="skip-button" type="button" aria-label="Skip text animation" hidden>Skip</button>
            <button id="skip-toggle" class="skip-toggle" type="button" aria-pressed="false"
              aria-label="Toggle always skip text">Auto Skip: Off</button>
            <button id="undo-warning-toggle" class="skip-toggle undo-warning-toggle" type="button" aria-pressed="false"
              aria-label="Toggle undo warning prompt">Undo Warning: Off</button>
          </div>
          <h2 id="node-title" class="story-title"></h2>
          <div id="story-text" class="story-text"></div>
          <div id="system-messages" class="system-messages" aria-live="polite"></div>
        </div>

        <div class="choices-area">
          <h3 class="choices-title" id="choices-title">Choices</h3>
          <div id="choices" class="choices" role="listbox" aria-labelledby="choices-title"></div>
        </div>

      </section>
    </main>
    <div id="graph-overlay" class="graph-overlay" hidden aria-hidden="true" tabindex="-1" role="dialog"
      aria-modal="true" aria-labelledby="graph-title">
      <div class="graph-overlay-header">
        <div class="graph-header-left">
          <h2 id="graph-title" class="graph-title">Story Map</h2>
          <div class="graph-controls" role="group" aria-label="Story map view">
            <span id="graph-mode-label" class="graph-mode-label" aria-live="polite">Visited Branches</span>
            <button id="graph-toggle" class="graph-toggle button button-secondary" type="button"
              aria-pressed="false">Show Full Map</button>
          </div>
        </div>
        <button id="graph-close" class="graph-close button button-secondary" type="button">Return to Game</button>
      </div>
      <div id="story-graph-container" class="graph-viewport graph-overlay-viewport" role="region"
        aria-label="Story map">
        <div id="graph-placeholder" class="graph-placeholder">Play the story to reveal the map.</div>
      </div>
    </div>
  </div>

  <noscript>
    <p class="noscript">This interactive story requires JavaScript. Please enable it to play.</p>
  </noscript>
  <script type="module" src="js/main.js"></script>
</body>

</html>
